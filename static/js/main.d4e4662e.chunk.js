(this["webpackJsonpstarwars-app"]=this["webpackJsonpstarwars-app"]||[]).push([[0],{69:function(e,t,a){e.exports=a(86)},78:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),l=a.n(o),c=a(28),i=a(27),s=a(65),m=a(32),u=a(9),p=r.a.memo((function(e){var t=Object(n.useRef)();Object(n.useEffect)((function(){document.body.addEventListener("click",a)}));var a=function(a){(a.path||a.composedPath&&a.composedPath()||a.composedPath(a.target)).includes(t.current)||e.setDropDownClose(!0)};return e.isDroppedDown?r.a.createElement("div",{className:"filter__dropped__down",ref:t},r.a.createElement("ul",null,e.data.map((function(t){return r.a.createElement("li",{key:t.id,onClick:function(){return e.onClickDropDownFilter(t.name,!0)}},t.name)})))):""})),d=r.a.memo((function(e){return r.a.createElement("nav",null,r.a.createElement("div",{className:"container"},r.a.createElement("input",{placeholder:"Search...",value:e.searchValue,onChange:function(t){return e.filterFilms(t)}}),r.a.createElement(p,{data:e.data,isDroppedDown:e.isDroppedDown,setDropDownClose:e.setDropDownClose,setSearchHistory:e.setSearchHistory,searchHistory:e.searchHistory,searchValue:e.searchValue,setSearch:e.setSearch,filterFilms:e.filterFilms,setFilter:e.setFilter,onClickDropDownFilter:e.onClickDropDownFilter})))})),h=a(100),g=r.a.memo((function(e){return r.a.createElement("aside",{className:"col-3"},r.a.createElement("ul",null,"Search History:"),e.searchHistory.map((function(t){return r.a.createElement("li",{key:t,onClick:function(){return e.onClickDropDownFilter(t,!1)}},t)})),r.a.createElement(h.a,{variant:"contained",className:"reset__history",onClick:function(){return e.onResetHistory()}},"Reset"))})),E=r.a.memo((function(e){var t=e.eachPerson,a=t.gender,n="";return n="male"===a?"./img/male.png":"female"===a?"./img/female.png":"n/a"===a?"./img/na.png":"hermaphrodite"===a?"./img/hermaphrodite.png":"./img/none.jpg",r.a.createElement("div",{className:"item col-sm-12 col-md-6 col-lg-4"},r.a.createElement("img",{src:n,alt:""}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,t.name)),r.a.createElement("div",null,"Gender: ",t.gender),r.a.createElement("div",null,"Height: ",t.height," sm")))})),f=r.a.memo((function(e){return e.data.map((function(e){return r.a.createElement(E,{eachPerson:e,key:e.id})}))})),D=r.a.memo((function(e){return r.a.createElement("section",{className:"col-9"},r.a.createElement("div",{className:"items row"},e.loading?"Loading...":r.a.createElement(f,{data:e.data})))})),w=r.a.memo((function(e){return r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(g,{searchHistory:e.searchHistory,onClickDropDownFilter:e.onClickDropDownFilter,onResetHistory:e.onResetHistory}),r.a.createElement(D,{data:e.data}))))})),v=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{data:e.data,isDroppedDown:e.isDroppedDown,setDropDownClose:e.setDropDownClose,searchValue:e.searchValue,filterFilms:e.filterFilms,FitlerDropDown:e.FitlerDropDown,setSearchHistory:e.setSearchHistory,searchHistory:e.searchHistory,seatchValue:e.searchValue,setSearch:e.setSearch,onClickDropDownFilter:e.onClickDropDownFilter}),r.a.createElement(w,{data:e.data,isDroppedDown:e.isDroppedDown,setDropDownClose:e.setDropDownClose,searchValue:e.searchValue,filterFilms:e.filterFilms,FitlerDropDown:e.FitlerDropDown,setSearchHistory:e.setSearchHistory,searchHistory:e.searchHistory,seatchValue:e.searchValue,setSearch:e.setSearch,onClickDropDownFilter:e.onClickDropDownFilter,onResetHistory:e.onResetHistory}))})),y=r.a.memo((function(e){var t=e.login,a=e.pass,n=e.handleChange,o=e.onLogin;return r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login__form col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4"},r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("span",null,"Login:"),r.a.createElement("input",{name:"login",type:"text",placeholder:"admin",value:t,onChange:function(e){return n(e)}}),r.a.createElement("span",null,"Password: 1111"),r.a.createElement("input",{name:"pass",type:"password",value:a,onChange:function(e){return n(e)}})),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(e){return o(e)}},"Submit")))))})),C=r.a.memo((function(e){var t=e.login,a=e.pass,n=e.handleChange,o=e.onLogin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{login:t,pass:a,handleChange:n,onLogin:o}))})),S=r.a.memo((function(e){return r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login__form col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4"},r.a.createElement("div",null,"You realy wonna to logout?"),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return alert("You logged Out!"),e.setAuth(!1),e.setSearch(""),e.setRedirect("fromLogoutPage"),void e.setSearchHistory([])}},"Submit"))))})),b=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{setAuth:e.setAuth,setSearch:e.setSearch,setRedirect:e.setRedirect,setSearchHistory:e.setSearchHistory}),")}")})),H=r.a.memo((function(){return r.a.createElement("div",{className:"error404"},r.a.createElement("img",{src:"./img/error404.jpg",alt:"error404"}))})),F=r.a.memo((function(e){var t=e.isAuth;return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"tagline"},"SW Person Searcher"),r.a.createElement(m.b,{to:"/"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"./img/Star_Wars_Yellow_Logo.png",alt:"logo"}))),r.a.createElement("div",{className:"login"},t?r.a.createElement(m.b,{to:"/logout"},"Logout"):r.a.createElement(m.b,{to:"/login"},"Login"))))}));a(78);function k(){var e=Object(s.a)(["\n\tquery getPerson {\n\t\tallPeople {\n\t\t\tpeople {\n\t\t\t\tname\n\t\t\t\tgender\n\t\t\t\tid\n\t\t\t\theight\n\t\t\t}\n\t\t}\n\t}\n"]);return k=function(){return e},e}var j=Object(c.gql)(k()),O=function(){var e=Object(c.useQuery)(j),t=e.loading,a=e.data,o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],d=l[1],h=Object(n.useState)(""),g=Object(i.a)(h,2),E=g[0],f=g[1],D=Object(n.useState)(!1),w=Object(i.a)(D,2),y=w[0],S=w[1],k=Object(n.useState)(""),O=Object(i.a)(k,2),L=O[0],P=O[1],N=Object(n.useState)(""),V=Object(i.a)(N,2),_=V[0],R=V[1],A=Object(n.useState)(""),x=Object(i.a)(A,2),Y=x[0],q=x[1],I=Object(n.useState)([]),J=Object(i.a)(I,2),W=J[0],B=J[1],G=Object(n.useState)([]),M=Object(i.a)(G,2),Q=M[0],z=M[1],K=function(e){var t=e.target.value;"login"===e.target.name?(P(t),B(a.allPeople.people)):R(t)},T=function(e){e.preventDefault(),"admin"===L&&"1111"===_?(alert("Login success!"),d(!0),P(""),R(""),q(""),f("fromLoginPage")):alert("Please, try again")},U=function(e){var t=e.target.value;q(t);var n=a.allPeople.people.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));B(n),S(!0)},X=function(e,t){var n=Q;!0===t&&(n.push(e),z(n));var r=a.allPeople.people.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));q(e),B(r),$(!0)},Z=function(){z([]),q(""),B(a.allPeople.people)},$=function(){S(!1)};return r.a.createElement(m.a,null,r.a.createElement(F,{isAuth:s}),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return s?r.a.createElement(v,{loading:t,data:W,isDroppedDown:y,setDropDownClose:$,searchValue:Y,filterFilms:U,FitlerDropDown:p,setSearchHistory:z,searchHistory:Q,seatchValue:Y,setSearch:q,onClickDropDownFilter:X,onResetHistory:Z}):r.a.createElement("div",{className:"container text-center"},r.a.createElement("h3",null,"Please login to see content!"))}}),r.a.createElement(u.b,{exact:!0,path:"/login",render:function(){return"fromLoginPage"===E?r.a.createElement(u.a,{to:"/"}):r.a.createElement(C,{isAuth:s,login:L,pass:_,handleChange:K,onLogin:T})}}),r.a.createElement(u.b,{exact:!0,path:"/logout",render:function(){return"fromLogoutPage"===E?r.a.createElement(u.a,{to:"/"}):r.a.createElement(b,{setAuth:d,setSearch:q,setRedirect:f,setSearchHistory:z})}}),r.a.createElement(u.b,{component:H})))},L=(a(84),a(85),new c.ApolloClient({cache:new c.InMemoryCache,link:new c.HttpLink({uri:"https://swapi.apis.guru/"})}));l.a.render(r.a.createElement(c.ApolloProvider,{client:L},r.a.createElement(O,null)),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.d4e4662e.chunk.js.map