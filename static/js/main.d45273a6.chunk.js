(this["webpackJsonpstarwars-app"]=this["webpackJsonpstarwars-app"]||[]).push([[0],{69:function(e,t,a){e.exports=a(87)},78:function(e,t,a){},84:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),o=a.n(l),c=a(28),i=a(27),m=a(65),s=a(32),u=a(9),p=a(100),d=r.a.memo((function(e){var t=e.eachPerson,a=t.gender,n="";return n="male"===a?"./img/male.png":"female"===a?"./img/female.png":"n/a"===a?"./img/na.png":"hermaphrodite"===a?"./img/hermaphrodite.png":"./img/none.jpg",r.a.createElement("div",{className:"item col-sm-12 col-md-6 col-lg-4"},r.a.createElement("img",{src:n,alt:""}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,t.name)),r.a.createElement("div",null,"Gender: ",t.gender),r.a.createElement("div",null,"Height: ",t.height," sm")))})),g=r.a.memo((function(e){return e.data.map((function(e){return r.a.createElement(d,{eachPerson:e,key:e.id})}))})),E=r.a.memo((function(e){var t=e.login,a=e.pass,n=e.handleChange,l=e.onLogin;return r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login__form col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4"},r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("span",null,"Login:"),r.a.createElement("input",{name:"login",type:"text",placeholder:"admin",value:t,onChange:function(e){return n(e)}}),r.a.createElement("span",null,"Password: 1111"),r.a.createElement("input",{name:"pass",type:"password",value:a,onChange:function(e){return n(e)}})),r.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(e){return l(e)}},"Submit")))))})),h=r.a.memo((function(e){var t=e.login,a=e.pass,n=e.handleChange,l=e.onLogin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{login:t,pass:a,handleChange:n,onLogin:l}))})),f=r.a.memo((function(e){var t=e.onClickLogout;return r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login__form col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4"},r.a.createElement("div",null,"You realy wonna to logout?"),r.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){return t()}},"Submit"))))})),v=r.a.memo((function(e){var t=e.onClickLogout;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{onClickLogout:t}),")}")})),b=function(){return r.a.createElement("div",{className:"container"},"This is 404 page")},w=r.a.memo((function(e){var t=e.isAuth;return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"tagline"},"SW Person Searcher"),r.a.createElement(s.b,{to:"/"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"./img/Star_Wars_Yellow_Logo.png",alt:"logo"}))),r.a.createElement("div",{className:"login"},t?r.a.createElement(s.b,{to:"/logout"},"Logout"):r.a.createElement(s.b,{to:"/login"},"Login"))))})),C=r.a.memo((function(e){var t=e.data,a=e.isDroppedDown,l=e.setDropDownClose,o=e.onClickDropDownFilter,c=Object(n.useRef)();Object(n.useEffect)((function(){document.body.addEventListener("click",i)}));var i=function(e){(e.path||e.composedPath&&e.composedPath()||e.composedPath(e.target)).includes(c.current)||l(!0)};return a?r.a.createElement("div",{className:"filter__dropped__down",ref:c},r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id,onClick:function(){return o(e.name,!0)}},e.name)})))):""}));function D(e){var t=e.filtered,a=e.isDroppedDown,n=e.setDropDownClose,l=e.searchValue,o=e.setSearch,c=e.filterFilms,i=e.setSearchHistory,m=e.searchHistory,s=e.setFilter,u=e.onClickDropDownFilter;return r.a.createElement("nav",null,r.a.createElement("div",{className:"container"},r.a.createElement("input",{placeholder:"Search...",value:l,onChange:function(e){return c(e)}}),r.a.createElement(C,{data:t,isDroppedDown:a,setDropDownClose:n,setSearchHistory:i,searchHistory:m,searchValue:l,setSearch:o,filterFilms:c,setFilter:s,onClickDropDownFilter:u})))}a(78);function j(){var e=Object(m.a)(["\n\tquery getPerson {\n\t\tallPeople {\n\t\t\tpeople {\n\t\t\t\tname\n\t\t\t\tgender\n\t\t\t\tid\n\t\t\t\theight\n\t\t\t}\n\t\t}\n\t}\n"]);return j=function(){return e},e}var y=Object(c.gql)(j()),k=function(){var e=Object(c.useQuery)(y),t=e.loading,a=e.data,l=Object(n.useState)(!1),o=Object(i.a)(l,2),m=o[0],d=o[1],E=Object(n.useState)(!1),f=Object(i.a)(E,2),j=f[0],k=f[1],O=Object(n.useState)(!1),S=Object(i.a)(O,2),L=S[0],N=S[1],P=Object(n.useState)(""),F=Object(i.a)(P,2),_=F[0],H=F[1],x=Object(n.useState)(""),A=Object(i.a)(x,2),V=A[0],q=A[1],I=Object(n.useState)(""),J=Object(i.a)(I,2),R=J[0],W=J[1],Y=Object(n.useState)([]),B=Object(i.a)(Y,2),G=B[0],M=B[1],Q=Object(n.useState)([]),T=Object(i.a)(Q,2),z=T[0],K=T[1],U=function(e){var t=e.target.value;"login"===e.target.name?(H(t),M(a.allPeople.people)):q(t)},X=function(e){e.preventDefault(),"admin"===_&&"1111"===V?(alert("Login success!"),d(!0),H(""),q(""),W(""),k(!0)):alert("Please, try again")},Z=function(e){var t=e.target.value;W(t);var n=a.allPeople.people.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));M(n),N(!0),console.log(t)},$=function(e,t){var n=z;!0===t&&(n.push(e),K(n));var r=a.allPeople.people.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));W(e),M(r),te(!0)},ee=function(){alert("success!"),d(!1),W(""),k(!1),K([]),window.location.reload()},te=function(){N(!1)};return r.a.createElement(s.a,null,r.a.createElement(w,{isAuth:m}),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return r.a.createElement(r.a.Fragment,null,m?r.a.createElement(D,{filtered:G,isDroppedDown:L,setDropDownClose:te,searchValue:R,filterFilms:Z,FitlerDropDown:C,setSearchHistory:K,searchHistory:z,seatchValue:R,setSearch:W,onClickDropDownFilter:$}):"",r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("aside",{className:"col-3"},r.a.createElement("ul",null,"Search History:"),z.map((function(e){return r.a.createElement("li",{key:e,onClick:function(){return $(e,!1)}},e)})),r.a.createElement(p.a,{variant:"contained",className:"reset__history",onClick:function(){return K([]),void W("")}},"Reset")),m?r.a.createElement("section",{className:"col-9"},r.a.createElement("div",{className:"items row"},t?"Loading...":r.a.createElement(g,{data:G}))):""))))}}),r.a.createElement(u.b,{exact:!0,path:"/login",render:function(){return j?r.a.createElement(u.a,{to:"/"}):r.a.createElement(h,{isAuth:m,login:_,pass:V,handleChange:U,onLogin:X})}}),r.a.createElement(u.b,{exact:!0,path:"/logout",render:function(){return r.a.createElement(v,{onClickLogout:ee})}}),r.a.createElement(u.b,{component:b})))},O=(a(84),a(85),new c.ApolloClient({cache:new c.InMemoryCache,link:new c.HttpLink({uri:"https://swapi.apis.guru/"})}));o.a.render(r.a.createElement(c.ApolloProvider,{client:O},r.a.createElement(k,null)),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.d45273a6.chunk.js.map