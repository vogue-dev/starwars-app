(this["webpackJsonpstarwars-app"]=this["webpackJsonpstarwars-app"]||[]).push([[0],{66:function(e,t,a){e.exports=a(84)},75:function(e,t,a){},81:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(61),c=a.n(r),o=a(23),i=a(24),m=a(62),s=a(28),u=a(8),p=l.a.memo((function(e){var t=e.eachPerson,a=t.gender,n="";return"male"===a?n="http://comic-cons.xyz/wp-content/uploads/Star-Wars-avatar-icon-Luke-Skywalker.png":"female"===a?n="http://comic-cons.xyz/wp-content/uploads/Star-Wars-avatar-icon-Princess-Leia.png":"n/a"===a?n="http://comic-cons.xyz/wp-content/uploads/Star-Wars-avatar-icon-R2D2.png":"hermaphrodite"===a&&(n="https://i.pinimg.com/originals/13/a9/20/13a9203c8ade09e700bbb4dc753014b2.png"),l.a.createElement("div",{className:"item col-sm-12 col-md-6 col-lg-4",key:t.id},l.a.createElement("img",{src:n,alt:"male-img"}),l.a.createElement("div",null,l.a.createElement("b",null,t.name)))})),d=l.a.memo((function(e){return e.data.map((function(e){return l.a.createElement(p,{eachPerson:e})}))})),g=l.a.memo((function(e){var t=e.login,a=e.pass,n=e.handleChange,r=e.checkLogin;return l.a.createElement("main",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"login__form col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4"},l.a.createElement("form",null,l.a.createElement("label",null,l.a.createElement("span",null,"Login:"),l.a.createElement("input",{name:"login",type:"text",placeholder:"Hint - admin",value:t,onChange:function(e){return n(e)}}),l.a.createElement("span",null,"Password: (Hint - 1111)"),l.a.createElement("input",{name:"pass",type:"password",value:a,onChange:function(e){return n(e)}})),l.a.createElement("button",{onClick:function(e){return r(e)}},"Submit")))))})),E=l.a.memo((function(e){var t=e.login,a=e.pass,n=e.handleChange,r=e.checkLogin;return l.a.createElement(l.a.Fragment,null,l.a.createElement(g,{login:t,pass:a,handleChange:n,checkLogin:r}))})),f=l.a.memo((function(e){var t=e.logoutOnClick;return l.a.createElement("main",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"login__form col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4"},l.a.createElement("div",null,"You realy wonna to logout?"),l.a.createElement("button",{onClick:function(){return t()}},"Submit"))))})),h=l.a.memo((function(e){var t=e.logoutOnClick;return l.a.createElement(l.a.Fragment,null,l.a.createElement(f,{logoutOnClick:t}),")}")})),v=function(){return l.a.createElement("div",{className:"container"},"This is 404 page")},b=l.a.memo((function(e){var t=e.isAuth;return l.a.createElement("header",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"tagline"},"SW Person Searcher"),l.a.createElement(s.b,{to:"/"},l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:"./img/Star_Wars_Yellow_Logo.png",alt:"logo"}))),l.a.createElement("div",{className:"login"},t?l.a.createElement(s.b,{to:"/logout"},"Logout"):l.a.createElement(s.b,{to:"/login"},"Login"))))})),w=l.a.memo((function(e){var t=e.data,a=e.isDroppedDown,r=e.setDropDownClose,c=Object(n.useRef)();Object(n.useEffect)((function(){document.body.addEventListener("click",o)}));var o=function(e){(e.path||e.composedPath&&e.composedPath()||e.composedPath(e.target)).includes(c.current)||r()};return a?l.a.createElement("div",{className:"filter__dropped__down",ref:c},l.a.createElement("ul",null," ",t.map((function(e){return l.a.createElement("li",null,e.name)})))):""}));function O(e){var t=e.filtered,a=e.isDroppedDown,n=e.setDropDownClose,r=e.searchValue,c=e.filterFilms,o=e.FitlerDropDown;return l.a.createElement("nav",null,l.a.createElement("div",{className:"container"},l.a.createElement("input",{placeholder:"Search...",value:r,onChange:function(e){return c(e)}}),l.a.createElement(o,{data:t,isDroppedDown:a,setDropDownClose:n})))}a(75);function D(){var e=Object(m.a)(["\n\tquery getPerson {\n\t\tallPeople {\n\t\t\tpeople {\n\t\t\t\tname\n\t\t\t\tgender\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n"]);return D=function(){return e},e}var C=Object(o.gql)(D()),j=function(){var e=Object(o.useQuery)(C),t=e.loading,a=e.data,r=Object(n.useState)(!0),c=Object(i.a)(r,2),m=c[0],p=c[1],g=Object(n.useState)(!1),f=Object(i.a)(g,2),D=f[0],j=f[1],k=Object(n.useState)(!0),S=Object(i.a)(k,2),N=S[0],L=S[1],y=Object(n.useState)(""),P=Object(i.a)(y,2),_=P[0],x=P[1],F=Object(n.useState)(""),A=Object(i.a)(F,2),W=A[0],H=A[1],z=Object(n.useState)(""),q=Object(i.a)(z,2),I=q[0],J=q[1],R=Object(n.useState)([]),V=Object(i.a)(R,2),Y=V[0],B=V[1],M=function(e){var t=e.target.value;"login"===e.target.name?(x(t),B(a.allPeople.people)):H(t)},Q=function(e){e.preventDefault(),"admin"===_&&"1111"===W?(alert("Login success!"),p(!0),x(""),H(""),J(""),j(!0)):alert("Please, try again")},T=function(e){var t=e.target.value;J(t);var n=a.allPeople.people.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));B(n),L(!0)},G=function(){alert("success!"),p(!1),J(""),j(!1)},K=function(){L(!1)};return l.a.createElement(s.a,null,l.a.createElement(b,{isAuth:m}),l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/",render:function(){return l.a.createElement(l.a.Fragment,null,m?l.a.createElement(O,{filtered:Y,isDroppedDown:N,setDropDownClose:K,searchValue:I,filterFilms:T,FitlerDropDown:w}):"",l.a.createElement("main",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("aside",{className:"col-3"},l.a.createElement("ul",null,"Search History:")),m?l.a.createElement("section",{className:"col-9"},l.a.createElement("div",{className:"items row"},t?"Loading...":l.a.createElement(d,{data:Y}))):""))))}}),l.a.createElement(u.b,{exact:!0,path:"/login",render:function(){return D?l.a.createElement(u.a,{to:"/"}):l.a.createElement(E,{isAuth:m,login:_,pass:W,handleChange:M,checkLogin:Q})}}),l.a.createElement(u.b,{exact:!0,path:"/logout",render:function(){return l.a.createElement(h,{logoutOnClick:G})}}),l.a.createElement(u.b,{component:v})))},k=(a(81),a(82),new o.ApolloClient({cache:new o.InMemoryCache,link:new o.HttpLink({uri:"https://swapi.apis.guru/"})}));c.a.render(l.a.createElement(o.ApolloProvider,{client:k},l.a.createElement(j,null)),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.40629d5c.chunk.js.map