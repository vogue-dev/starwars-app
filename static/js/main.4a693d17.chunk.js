(this["webpackJsonpstarwars-app"]=this["webpackJsonpstarwars-app"]||[]).push([[0],{66:function(e,t,a){e.exports=a(84)},75:function(e,t,a){},81:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(61),o=a.n(l),c=a(24),i=a(23),s=a(62),m=a(28),u=a(8),p=r.a.memo((function(e){var t=e.eachPerson,a=t.gender,n="";return n="male"===a?"http://comic-cons.xyz/wp-content/uploads/Star-Wars-avatar-icon-Luke-Skywalker.png":"female"===a?"http://comic-cons.xyz/wp-content/uploads/Star-Wars-avatar-icon-Princess-Leia.png":"n/a"===a?"http://comic-cons.xyz/wp-content/uploads/Star-Wars-avatar-icon-R2D2.png":"hermaphrodite"===a?"https://i.pinimg.com/originals/13/a9/20/13a9203c8ade09e700bbb4dc753014b2.png":"https://star-shop.kiev.ua/image/cache/data/catalog/kids-toys/star-wars/1d52fabe-e53e-4331-9938-15f7f7b92563-500x500.jpg",r.a.createElement("div",{className:"item col-sm-12 col-md-6 col-lg-4"},r.a.createElement("img",{src:n,alt:""}),r.a.createElement("div",null,r.a.createElement("b",null,t.name)))})),d=r.a.memo((function(e){return e.data.map((function(e){return r.a.createElement(p,{eachPerson:e,key:e.id})}))})),g=r.a.memo((function(e){var t=e.login,a=e.pass,n=e.handleChange,l=e.checkLogin;return r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login__form col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4"},r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("span",null,"Login:"),r.a.createElement("input",{name:"login",type:"text",placeholder:"Hint - admin",value:t,onChange:function(e){return n(e)}}),r.a.createElement("span",null,"Password: (Hint - 1111)"),r.a.createElement("input",{name:"pass",type:"password",value:a,onChange:function(e){return n(e)}})),r.a.createElement("button",{onClick:function(e){return l(e)}},"Submit")))))})),h=r.a.memo((function(e){var t=e.login,a=e.pass,n=e.handleChange,l=e.checkLogin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{login:t,pass:a,handleChange:n,checkLogin:l}))})),E=r.a.memo((function(e){var t=e.logoutOnClick;return r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login__form col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4"},r.a.createElement("div",null,"You realy wonna to logout?"),r.a.createElement("button",{onClick:function(){return t()}},"Submit"))))})),f=r.a.memo((function(e){var t=e.logoutOnClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{logoutOnClick:t}),")}")})),v=function(){return r.a.createElement("div",{className:"container"},"This is 404 page")},b=r.a.memo((function(e){var t=e.isAuth;return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"tagline"},"SW Person Searcher"),r.a.createElement(m.b,{to:"/"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"./img/Star_Wars_Yellow_Logo.png",alt:"logo"}))),r.a.createElement("div",{className:"login"},t?r.a.createElement(m.b,{to:"/logout"},"Logout"):r.a.createElement(m.b,{to:"/login"},"Login"))))})),w=r.a.memo((function(e){var t=e.data,a=e.isDroppedDown,l=e.setDropDownClose,o=e.onChoosePerson,c=Object(n.useRef)();Object(n.useEffect)((function(){document.body.addEventListener("click",i)}));var i=function(e){(e.path||e.composedPath&&e.composedPath()||e.composedPath(e.target)).includes(c.current)||l(!0)};return a?r.a.createElement("div",{className:"filter__dropped__down",ref:c},r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id,onClick:function(){return o(e.name,!0)}},e.name)})))):""}));function C(e){var t=e.filtered,a=e.isDroppedDown,n=e.setDropDownClose,l=e.searchValue,o=e.setSearch,c=e.filterFilms,i=e.setSearchHistory,s=e.searchHistory,m=e.setFilter,u=e.onChoosePerson;return r.a.createElement("nav",null,r.a.createElement("div",{className:"container"},r.a.createElement("input",{placeholder:"Search...",value:l,onChange:function(e){return c(e)}}),r.a.createElement(w,{data:t,isDroppedDown:a,setDropDownClose:n,setSearchHistory:i,searchHistory:s,searchValue:l,setSearch:o,filterFilms:c,setFilter:m,onChoosePerson:u})))}a(75);function k(){var e=Object(s.a)(["\n\tquery getPerson {\n\t\tallPeople {\n\t\t\tpeople {\n\t\t\t\tname\n\t\t\t\tgender\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n"]);return k=function(){return e},e}var O=Object(c.gql)(k()),S=function(){var e=Object(c.useQuery)(O),t=e.loading,a=e.data,l=Object(n.useState)(!1),o=Object(i.a)(l,2),s=o[0],p=o[1],g=Object(n.useState)(!1),E=Object(i.a)(g,2),k=E[0],S=E[1],y=Object(n.useState)(!1),j=Object(i.a)(y,2),D=j[0],L=j[1],P=Object(n.useState)(""),N=Object(i.a)(P,2),x=N[0],_=N[1],H=Object(n.useState)(""),F=Object(i.a)(H,2),A=F[0],W=F[1],V=Object(n.useState)(""),z=Object(i.a)(V,2),q=z[0],I=z[1],J=Object(n.useState)([]),R=Object(i.a)(J,2),Y=R[0],B=R[1],M=Object(n.useState)([]),Q=Object(i.a)(M,2),T=Q[0],G=Q[1],K=function(e){var t=e.target.value;"login"===e.target.name?(_(t),B(a.allPeople.people)):W(t)},U=function(e){e.preventDefault(),"admin"===x&&"1111"===A?(alert("Login success!"),p(!0),_(""),W(""),I(""),S(!0)):alert("Please, try again")},X=function(e){var t=e.target.value;I(t);var n=a.allPeople.people.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));B(n),L(!0),console.log(t)},Z=function(e,t){var n=T;if(!0===t){n.push(e),G(n);var r=a.allPeople.people.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));B(r),ee(!0)}else{var l=a.allPeople.people.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));B(l),ee(!0)}},$=function(){alert("success!"),p(!1),I(""),S(!1)},ee=function(){L(!1)};return r.a.createElement(m.a,null,r.a.createElement(b,{isAuth:s}),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(C,{filtered:Y,isDroppedDown:D,setDropDownClose:ee,searchValue:q,filterFilms:X,FitlerDropDown:w,setSearchHistory:G,searchHistory:T,seatchValue:q,setSearch:I,onChoosePerson:Z}):"",r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("aside",{className:"col-3"},r.a.createElement("ul",null,"Search History:"),T.map((function(e){return r.a.createElement("li",{key:e.index,onClick:function(){return Z(e,!1)}},e)}))),s?r.a.createElement("section",{className:"col-9"},r.a.createElement("div",{className:"items row"},t?"Loading...":r.a.createElement(d,{data:Y}))):""))))}}),r.a.createElement(u.b,{exact:!0,path:"/login",render:function(){return k?r.a.createElement(u.a,{to:"/"}):r.a.createElement(h,{isAuth:s,login:x,pass:A,handleChange:K,checkLogin:U})}}),r.a.createElement(u.b,{exact:!0,path:"/logout",render:function(){return r.a.createElement(f,{logoutOnClick:$})}}),r.a.createElement(u.b,{component:v})))},y=(a(81),a(82),new c.ApolloClient({cache:new c.InMemoryCache,link:new c.HttpLink({uri:"https://swapi.apis.guru/"})}));o.a.render(r.a.createElement(c.ApolloProvider,{client:y},r.a.createElement(S,null)),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.4a693d17.chunk.js.map